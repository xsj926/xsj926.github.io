"use strict";(self["webpackChunkmy_vue"]=self["webpackChunkmy_vue"]||[]).push([[833],{8833:function(t,s,i){i.r(s),i.d(s,{default:function(){return $}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"bigBox"},[s("div",{staticClass:"left"},[s("div",{staticClass:"top"},[s("el-row",{staticClass:"topRow"},[s("el-col",{staticClass:"topBut",attrs:{span:24}},[s("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("开始游戏")])],1),s("el-col",{staticClass:"topBut",attrs:{span:24}},[s("el-button",{attrs:{type:"warning"},on:{click:function(s){t.game=!t.game}}},[t._v("更换游戏")])],1),s("el-col",{staticClass:"topBut",attrs:{span:24}},[s("el-button",{attrs:{type:"danger"},on:{click:function(s){t.status=0}}},[t._v("游戏设置")])],1),s("el-col",{staticClass:"topBut",attrs:{span:24}},[s("el-button",{attrs:{type:"info"},on:{click:function(s){t.status=1}}},[t._v("游戏说明")])],1),s("el-col",{attrs:{span:24}},[s("el-button",{attrs:{type:"success"},on:{click:t.goHome}},[t._v("返回主页")])],1)],1)],1),s("hr"),s("div",{staticClass:"bottom"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.status,expression:"status == 0"}]},[s("p",[t._v("游戏设置")]),t.game?s("ZmStatu",{attrs:{oldFormVal:t.formZm},on:{setForm:t.setZm}}):s("SlStatu",{attrs:{oldFormVal:t.formVal},on:{setForm:t.setForm}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.status,expression:"status == 1"}]},[s("p",[t._v("游戏说明")]),t.game?s("p",[t._v("游戏规则是，找到门所在的位置，并找到所有的钥匙才能通过，如果踩到炸弹则会失败")]):s("p",[t._v("游戏为自制扫雷，玩法基本一致")])])])]),s("div",{staticClass:"right"},[t.game?s("GameZ",{attrs:{formVal:t.formZm,sta:t.sta}}):s("GameV",{attrs:{formVal:t.formVal,sta:t.sta}})],1)])},r=[],o=(i(7658),function(){var t=this,s=t._self._c;return s("div",[s("el-form",{attrs:{"label-position":"left","label-width":"40px",model:t.formVal}},[s("el-form-item",{attrs:{label:"长度"}},[s("el-input-number",{attrs:{min:5,max:30},model:{value:t.formVal.c,callback:function(s){t.$set(t.formVal,"c",s)},expression:"formVal.c"}})],1),s("el-form-item",{attrs:{label:"高度"}},[s("el-input-number",{attrs:{min:5,max:30},model:{value:t.formVal.g,callback:function(s){t.$set(t.formVal,"g",s)},expression:"formVal.g"}})],1),s("div",[s("el-button",{attrs:{type:"primary"},on:{click:function(s){t.dialogVisible=!0}}},[t._v("更多设置")]),s("p",[t._v("默认设置一个炸弹和钥匙")])],1),s("div",[s("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认")]),s("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1),s("el-dialog",{attrs:{title:"更多设置",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(s){t.dialogVisible=s}}},[s("el-form",{attrs:{"label-position":"left","label-width":"40px",model:t.formVal}},[s("el-form-item",{attrs:{label:"钥匙"}},[s("el-input-number",{attrs:{min:1,max:parseInt(t.formVal.c*t.formVal.g/20)},model:{value:t.moreFV.key,callback:function(s){t.$set(t.moreFV,"key",s)},expression:"moreFV.key"}})],1),s("el-form-item",{attrs:{label:"炸弹"}},[s("el-input-number",{attrs:{min:1,max:parseInt(t.formVal.c*t.formVal.g/20)},model:{value:t.moreFV.boom,callback:function(s){t.$set(t.moreFV,"boom",s)},expression:"moreFV.boom"}})],1),s("el-form-item",{attrs:{label:"是否使用道具","label-width":"150px"}},[s("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:t.moreFV.isUse,callback:function(s){t.$set(t.moreFV,"isUse",s)},expression:"moreFV.isUse"}})],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.moreFV.isUse,expression:"moreFV.isUse"}],attrs:{label:"找钥匙","label-width":"80px"}},[s("el-input-number",{attrs:{min:0,max:parseInt(t.formVal.c*t.formVal.g/50)||1},model:{value:t.moreFV.FK,callback:function(s){t.$set(t.moreFV,"FK",s)},expression:"moreFV.FK"}})],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.moreFV.isUse,expression:"moreFV.isUse"}],attrs:{label:"找门","label-width":"80px"}},[s("el-input-number",{attrs:{min:0,max:parseInt(t.formVal.c*t.formVal.g/50)||1},model:{value:t.moreFV.FD,callback:function(s){t.$set(t.moreFV,"FD",s)},expression:"moreFV.FD"}})],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.moreFV.isUse,expression:"moreFV.isUse"}],attrs:{label:"显示炸弹","label-width":"80px"}},[s("el-input-number",{attrs:{min:0,max:parseInt(t.formVal.c*t.formVal.g/50)||1},model:{value:t.moreFV.SB,callback:function(s){t.$set(t.moreFV,"SB",s)},expression:"moreFV.SB"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(s){t.dialogVisible=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.changeFormVal}},[t._v("确 定")])],1)],1)],1)}),e=[],l={data(){return{formVal:{c:5,g:5,boom:1,key:1,FK:0,FD:0,SB:0},moreFV:{boom:1,key:1,isUse:!1,FK:0,FD:0,SB:0},dialogVisible:!1}},props:["oldFormVal"],methods:{changeFormVal(){this.moreFV.isUse?(this.formVal.boom=this.moreFV.boom,this.formVal.key=this.moreFV.key,this.formVal.FK=this.moreFV.FK,this.formVal.FD=this.moreFV.FD,this.formVal.SB=this.moreFV.SB):(this.formVal.boom=this.moreFV.boom,this.formVal.key=this.moreFV.key,this.formVal.FK=0,this.formVal.FD=0,this.formVal.SB=0,this.moreFV.FK=0,this.moreFV.FD=0,this.moreFV.SB=0),this.dialogVisible=!1,this.onSubmit()},onSubmit(){this.formVal.c&&this.formVal.g&&this.formVal.boom&&this.formVal.key&&this.formVal.FD>=0&&this.formVal.FK>=0&&this.formVal.SB>=0?(this.formVal.FD>1&&this.formVal.FD>parseInt(this.formVal.c*this.formVal.g/50)&&(this.$message({message:"找门太多，我已为你减少",type:"warning"}),parseInt(this.formVal.c*this.formVal.g/50<1)?(this.formVal.FD=1,this.moreFV.FD=1):(this.formVal.FD=parseInt(this.formVal.c*this.formVal.g/50),this.moreFV.FD=parseInt(this.formVal.c*this.formVal.g/50))),this.formVal.FK>1&&this.formVal.FK>parseInt(this.formVal.c*this.formVal.g/50)&&(this.$message({message:"找钥匙太多，我已为你减少",type:"warning"}),parseInt(this.formVal.c*this.formVal.g/50<1)?(this.formVal.FK=1,this.moreFV.FK=1):(this.formVal.FK=parseInt(this.formVal.c*this.formVal.g/50),this.moreFV.FK=parseInt(this.formVal.c*this.formVal.g/50))),this.formVal.SB>1&&this.formVal.SB>parseInt(this.formVal.c*this.formVal.g/50)&&(this.$message({message:"显示炸弹太多，我已为你减少",type:"warning"}),parseInt(this.formVal.c*this.formVal.g/50<1)?(this.formVal.SB=1,this.moreFV.SB=1):(this.formVal.SB=parseInt(this.formVal.c*this.formVal.g/50),this.moreFV.SB=parseInt(this.formVal.c*this.formVal.g/50))),this.$emit("setForm",this.formVal),this.sta=!this.sta):(this.$message({message:"必须有值",type:"warning"}),this.formVal=JSON.parse(JSON.stringify(this.oldFormVal)))},onCancel(){this.formVal=JSON.parse(JSON.stringify(this.oldFormVal))}}},m=l,h=i(3736),n=(0,h.Z)(m,o,e,!1,null,null,null),c=n.exports,f=function(){var t=this,s=t._self._c;return s("div",[s("el-form",{attrs:{"label-position":"center","label-width":"40px",model:t.formVal}},[s("el-form-item",{attrs:{label:"长度"}},[s("el-input-number",{attrs:{min:5,max:30},model:{value:t.formVal.c,callback:function(s){t.$set(t.formVal,"c",s)},expression:"formVal.c"}})],1),s("el-form-item",{attrs:{label:"高度"}},[s("el-input-number",{attrs:{min:5,max:30},model:{value:t.formVal.g,callback:function(s){t.$set(t.formVal,"g",s)},expression:"formVal.g"}})],1),s("el-form-item",{attrs:{label:"数量"}},[s("el-input-number",{attrs:{min:parseInt(t.formVal.c*t.formVal.g/10),max:parseInt(t.formVal.c*t.formVal.g/5*4)},model:{value:t.formVal.boom,callback:function(s){t.$set(t.formVal,"boom",s)},expression:"formVal.boom"}})],1),s("div",[s("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认")]),s("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},V=[],u={data(){return{formVal:{c:5,g:5,boom:2}}},props:["oldFormVal"],methods:{onSubmit(){this.formVal.c&&this.formVal.g&&this.formVal.boom?(this.formVal.boom<parseInt(this.formVal.c*this.formVal.g/10)?(this.$message({message:"炸弹太少，我已为你添加更多",type:"warning"}),this.formVal.boom=parseInt(this.formVal.c*this.formVal.g/10)):this.formVal.boom>parseInt(this.formVal.c*this.formVal.g/5*4)&&(this.$message({message:"炸弹太多，我已为你减少",type:"warning"}),this.formVal.boom=parseInt(this.formVal.c*this.formVal.g/5*4)),this.$emit("setForm",this.formVal),this.sta=!this.sta):(this.$message({message:"必须有值",type:"warning"}),this.formVal=JSON.parse(JSON.stringify(this.oldFormVal)))},onCancel(){this.formVal=JSON.parse(JSON.stringify(this.oldFormVal))}}},v=u,p=(0,h.Z)(v,f,V,!1,null,null,null),g=p.exports,d=function(){var t=this,s=t._self._c;return s("div",{staticStyle:{height:"100%"}},[t._l(t.formVal.g,(function(i,a){return s("div",{key:a,ref:"2",refInFor:!0,staticClass:"bigBox",style:{"--width":t.formVal.g}},[t._l(t.formVal.c,(function(a,r){return s("div",{key:t.formVal.c+r,staticClass:"minBox",class:t.arrList[parseInt(a-1+(i-1)*t.formVal.c)]?.isActive?"minAc":"minH",style:{"--width":t.c},on:{click:function(s){return t.onClick(i-1,a-1,!0)},contextmenu:function(s){return s.preventDefault(),s.stopPropagation(),t.rightClick(i-1,a-1)}}},[t.arrList[parseInt(a-1+(i-1)*t.formVal.c)]?.isActive?s("p",{style:{"--width":t.c,"--color":t.arrList[parseInt(a-1+(i-1)*t.formVal.c)]?.value}},[t._v(" "+t._s(t.arrList[parseInt(a-1+(i-1)*t.formVal.c)]?.boom?"boom":t.arrList[parseInt(a-1+(i-1)*t.formVal.c)]?.value)+" ")]):t._e(),t.arrList[parseInt(a-1+(i-1)*t.formVal.c)]?.right?s("p",{staticClass:"rightP",style:{"--width":t.c}},[t._v(" "+t._s("boom")+" ")]):t._e()])})),s("br")],2)})),s("p",{staticClass:"showTop"},[t._v(t._s(t.ac))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"black"})],2)},b=[],F={name:"gameV",data(){return{arrBoom:[],arrList:[],isActive:!0,isShow:!1,ac:0}},created(){this.randomBoom(),this.allList()},props:["formVal","sta"],watch:{sta:{immediate:!0,handler(){this.isActive=!0,this.randomBoom(),this.allList()}}},computed:{c(){return this.randomBoom(!0),this.allList(),this.formVal.c}},methods:{randomBoom(t){if(this.isActive=t,this.isActive){this.ac=0,this.isShow=!1;let t=[];while(t.length<this.formVal.boom){let s=Math.floor(Math.random()*this.formVal.c*this.formVal.g),i={c:s%this.formVal.c,g:parseInt(s/this.formVal.c),num:s};t.length&&t.find((t=>t.num==s))||t.push(JSON.parse(JSON.stringify(i)))}this.arrBoom=t}},onClick(t,s,i){if(i&&this.ac++,!this.arrList[s+t*this.formVal.c].isActive){if(this.arrList[s+t*this.formVal.c].isActive=!0,this.arrList[s+t*this.formVal.c].right=!1,this.arrList[s+t*this.formVal.c].boom)this.isShow=!0,this.$confirm("游戏结束了，你使用了"+this.ac+"步，是否重新开始?","失败",{confirmButtonText:"确定",cancelButtonText:"取消",type:""}).then((()=>{this.isShow=!1,this.isActive=!0,this.randomBoom(),this.allList()})).catch((()=>{}));else if(0==this.arrList[s+t*this.formVal.c].value){let i=this.arr8(s+t*this.formVal.c,s);i.forEach((t=>{let s=t%this.formVal.c,i=parseInt(t/this.formVal.c);this.onClick(i,s,!1)}))}let i=this.arrList.find((t=>1!=t.boom&&1!=t.isActive));i||this.$confirm("游戏结束了，你使用了"+this.ac+"步，是否重新开始?","胜利",{confirmButtonText:"确定",cancelButtonText:"取消",type:""}).then((()=>{this.isShow=!1,this.isActive=!0,this.randomBoom(),this.allList()})).catch((()=>{}))}},arr8(t,s){let i=this.formVal.c,a=this.formVal.g;return t<i?s?s==i-1?[t+i-1,t-1,t+i]:[t+1+i,t+i,t+i-1,t-1,t+1]:[t+1+i,t+1,t+i]:i*a-1-t<i?s?s==i-1?[t-i-1,t-1,t-i]:[t+1-i,t-i,t-i-1,t-1,t+1]:[t+1-i,t+1,t-i]:s?s==i-1?[t-i-1,t-i,t-1,t+i-1,t+i]:[t-i-1,t-i,t+1-i,t-1,t+1,t+i-1,t+i,t+i+1]:[t-i+1,t-i,t+1,t+i+1,t+i]},rightClick(t,s){let i=s+t*this.formVal.c;this.arrList[i].isActive||(this.arrList[i].right=!this.arrList[i].right)},allList(){if(this.isActive){let t=[],s={isActive:!1,value:0,boom:!1,right:!1};for(let i=0;i<this.formVal.c*this.formVal.g;i++)t.push(JSON.parse(JSON.stringify(s)));this.arrList=t,this.countNum(),this.isActive=!1}},countNum(){this.arrBoom.length>0&&this.arrBoom.forEach((t=>{this.arrList.length&&(this.arrList[t.num].boom=!0,t.num<this.formVal.c?(this.arrList[t.num+this.formVal.c].value++,t.c?t.c==this.formVal.c-1?(this.arrList[t.num-1+this.formVal.c].value++,this.arrList[t.num-1].value++):(this.arrList[t.num-1+this.formVal.c].value++,this.arrList[t.num+1+this.formVal.c].value++,this.arrList[t.num+1].value++,this.arrList[t.num-1].value++):(this.arrList[t.num+1+this.formVal.c].value++,this.arrList[t.num+1].value++)):this.formVal.c*this.formVal.g-1-t.num<this.formVal.c?t.c?t.c==this.formVal.c-1?(this.arrList[t.num-1-this.formVal.c].value++,this.arrList[t.num-this.formVal.c].value++,this.arrList[t.num-1].value++):(this.arrList[t.num-1-this.formVal.c].value++,this.arrList[t.num-this.formVal.c].value++,this.arrList[t.num+1-this.formVal.c].value++,this.arrList[t.num+1].value++,this.arrList[t.num-1].value++):(this.arrList[t.num-this.formVal.c].value++,this.arrList[t.num+1-this.formVal.c].value++,this.arrList[t.num+1].value++):t.c?t.c==this.formVal.c-1?(this.arrList[t.num-1-this.formVal.c].value++,this.arrList[t.num-this.formVal.c].value++,this.arrList[t.num-1+this.formVal.c].value++,this.arrList[t.num+this.formVal.c].value++,this.arrList[t.num-1].value++):(this.arrList[t.num-this.formVal.c].value++,this.arrList[t.num+1-this.formVal.c].value++,this.arrList[t.num+this.formVal.c].value++,this.arrList[t.num+1+this.formVal.c].value++,this.arrList[t.num+1].value++,this.arrList[t.num-1-this.formVal.c].value++,this.arrList[t.num-1+this.formVal.c].value++,this.arrList[t.num-1].value++):(this.arrList[t.num-this.formVal.c].value++,this.arrList[t.num+1-this.formVal.c].value++,this.arrList[t.num+this.formVal.c].value++,this.arrList[t.num+1+this.formVal.c].value++,this.arrList[t.num+1].value++))}))}}},L=F,y=(0,h.Z)(L,d,b,!1,null,"3a766db2",null),w=y.exports,S=function(){var t=this,s=t._self._c;return s("div",{staticStyle:{height:"100%"}},[t._l(t.formVal.g,(function(i,a){return s("div",{key:a,ref:"2",refInFor:!0,staticClass:"bigBox",style:{"--width":t.formVal.g}},[t._l(t.formVal.c,(function(a,r){return s("div",{key:t.formVal.c+r,staticClass:"minBox",class:t.arrList[parseInt(a-1+(i-1)*t.formVal.c)]?.isActive?"minAc":"minH",style:{"--width":t.c},on:{click:function(s){return t.onClick(i-1,a-1,!0)}}},[t.arrList[parseInt(a-1+(i-1)*t.formVal.c)]?.isActive?s("p",{style:{"--width":t.c}},[t._v(" "+t._s(t.arrList[parseInt(a-1+(i-1)*t.formVal.c)]?.value)+" ")]):t._e()])})),s("br")],2)})),s("p",{staticClass:"showTop"},[t._v(t._s(t.ac))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"black"})],2)},k=[],x={name:"gameV",data(){return{arrG:[],arrList:[],isActive:!0,isShow:!1,ac:0}},created(){this.randomG(),this.allList()},props:["formVal","sta"],watch:{sta:{immediate:!0,handler(){this.isActive=!0,this.randomG(),this.allList()}}},computed:{c(){return this.randomG(!0),this.allList(),this.formVal.c}},methods:{randomG(t){if(this.isActive=t,this.isActive){this.ac=0,this.isShow=!1;let t=[];while(t.length<this.formVal.boom+this.formVal.key+1+this.formVal.FK+this.formVal.FD+this.formVal.SB){let s=Math.floor(Math.random()*this.formVal.c*this.formVal.g),i={c:s%this.formVal.c,g:parseInt(s/this.formVal.c),num:s};t.length&&t.find((t=>t.num==s))||t.push(JSON.parse(JSON.stringify(i)))}this.arrG=t}},onClick(t,s,i){if(i&&this.ac++,!this.arrList[s+t*this.formVal.c].isActive){this.arrList[s+t*this.formVal.c].isActive=!0,this.arrList[s+t*this.formVal.c].right=!1,this.arrList[s+t*this.formVal.c].boom?(this.isShow=!0,this.$confirm("游戏结束了，你使用了"+this.ac+"步，是否重新开始?","失败",{confirmButtonText:"确定",type:""}).then((()=>{this.isShow=!1,this.isActive=!0,this.randomG(),this.allList()})).catch((()=>{}))):this.arrList[s+t*this.formVal.c].FK||this.arrList[s+t*this.formVal.c].FD?alert("帮不了一点"):this.arrList[s+t*this.formVal.c].SB&&this.arrList.forEach((t=>{!t.boom||t.isActive||(t.isActive=!0)}));let i=this.arrList.find((t=>1==t.key&&0==t.isActive)),a=this.arrList.find((t=>1==t.dor&&1==t.isActive));!i&&a&&this.$confirm("游戏结束了，你使用了"+this.ac+"步，是否重新开始?","胜利",{confirmButtonText:"确定",type:""}).then((()=>{this.isShow=!1,this.isActive=!0,this.randomG(),this.allList()})).catch((()=>{}))}},allList(){if(this.isActive){let t=[],s=0;for(let i=0;i<this.formVal.c*this.formVal.g;i++){let a={isActive:!1,value:"",boom:!1,key:!1,dor:!1,FK:!1,FD:!1,SB:!1};this.arrG.forEach((t=>{t.num==i&&(s?s<this.formVal.boom+1?(a.boom=!0,a.value="boom",s++):s<this.formVal.boom+1+this.formVal.key?(a.key=!0,a.value="key",s++):s<this.formVal.boom+1+this.formVal.key+this.formVal.FK?(a.FK=!0,a.value="FK",s++):s<this.formVal.boom+1+this.formVal.key+this.formVal.FK+this.formVal.FD?(a.FD=!0,a.value="FD",s++):s<this.formVal.boom+1+this.formVal.key+this.formVal.FK+this.formVal.FD+this.formVal.SB&&(a.SB=!0,a.value="SB",s++):(a.dor=!0,a.value="门",s++))})),t.push(JSON.parse(JSON.stringify(a)))}this.arrList=t,this.isActive=!1}}}},B=x,_=(0,h.Z)(B,S,k,!1,null,"031dd90f",null),I=_.exports,A={name:"mClearance",data(){return{formVal:{c:5,g:5,boom:2},formZm:{c:5,g:5,boom:1,key:1},status:0,sta:!0,game:!1,num:""}},components:{GameV:w,GameZ:I,SlStatu:g,ZmStatu:c},methods:{start(){this.sta=!this.sta},setForm(t){this.formVal=JSON.parse(JSON.stringify(t))},setZm(t){this.formZm=JSON.parse(JSON.stringify(t))},goHome(){this.$router.push({name:"home",params:{num:this.num}})}},created(){this.num=this.$route.params.num}},C=A,N=(0,h.Z)(C,a,r,!1,null,"8738986a",null),$=N.exports}}]);
//# sourceMappingURL=833.269f69aa.js.map